{"version":3,"sources":["webpack:///src/views/personal/Personal.vue","webpack:///./src/views/personal/Personal.vue?4bd3","webpack:///./src/views/personal/Personal.vue"],"names":["Personal","data","user_id","this","$store","state","loginInfo","sessionVal","uSER_ID","personalInfo","imageUrl","uploadFile","upLoadData","components","HeaderTop","mounted","getPersonalInfo","getHeadPortraitImg","methods","_this","$http","post","then","res","console","log","code","pd","imgpath","handleAvatarSuccess","file","URL","createObjectURL","raw","localStorage","setItem","stringify_default","beforeAvatarUpload","isJPG","type","isLt2M","size","$message","error","goBack","$router","go","_this2","USER_ID","loginOut","_this3","es","confirm","title","message","removeItem","push","catch","personal_Personal","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","action","show-file-list","on-success","limit","accept","before-upload","staticStyle","width","height","border-radius","src","_s","NAME","company_name","PHONE","EMAIL","BZ","margin-top","on","click","$event","_m","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.d8fc8c495ee63693d90d.js","sourcesContent":["<template>\r\n  <div class=\"personal\">\r\n    <header-top>\r\n        <div slot=\"left\">\r\n            <!-- <img @click=\"goBack\" src=\"@/assets/img/back.png\"> -->\r\n        </div>\r\n        <div slot=\"mid\">个人信息</div>\r\n    </header-top>\r\n    <div class=\"uploadImg\" style=\"\">\r\n       <!-- :on-success=\"handleAvatarSuccess\" -->\r\n       <!-- action=\"http://192.168.2.108:8080/app_module2/addHeadPortrait\" :http-request=\"upLoad\"-->\n       <!-- action=\"http://119.23.209.162/app_module2/addHeadPortrait\" -->\r\n      <el-upload\r\n        class=\"avatar-uploader\"\r\n        action=\"http://119.23.209.162/app_module2/addHeadPortrait\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :limit=\"1\"\r\n        :data=\"upLoadData\"\r\n        accept=\"image/jpg,image/jpeg,image/png,image/PNG\"\r\n        :before-upload=\"beforeAvatarUpload\">\r\n        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" style='width:86px; height:86px; border-radius:50%;'>\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n      </el-upload>\r\n    </div>\r\n    <div class=\"personalInfo\">\r\n      <div class=\"info\">\r\n        <h4>姓名：<span>{{personalInfo.NAME}}</span></h4>\r\n        <p>所属公司：<span>{{personalInfo.company_name}}</span></p>\r\n        <p>职位：<span>{{personalInfo.post}}</span></p>\r\n        <p>电话：<span>{{personalInfo.PHONE}}</span></p>\r\n        <p>Email：<span>{{personalInfo.EMAIL}}</span></p>\r\n        <p>备注：<span>{{personalInfo.BZ}}</span></p>\r\n      </div>\r\n      <div class=\"modifyPwd\" style=\"margin-top:30px;\" @click=\"$router.push('/personal/email')\">\r\n        <p>邮箱配置</p>\r\n        <span class=\"iconfont icon-jiantou\"></span>\r\n      </div>\r\n      <div class=\"modifyPwd\" @click=\"$router.push('/personal/modifyPwd')\">\r\n        <p>修改密码</p>\r\n        <span class=\"iconfont icon-jiantou\"></span>\r\n      </div>\r\n      <div class=\"modifyPwd\" @click=\"loginOut\">\r\n        <p>更换帐号</p>\r\n        <span class=\"iconfont icon-jiantou\"></span>\r\n      </div>\r\n      <div class=\"modifyPwd\">\r\n        <p>软件版本</p>\r\n        <span >V2.1.1</span>\r\n        <span></span>\r\n      </div>\r\n    </div>\r\n    <!-- <van-button type=\"primary\" size=\"large\" plain style=\"position:absolute; left:0;bottom:0px;\">退出登录</van-button> -->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Dialog } from 'vant';\r\nimport HeaderTop from '@/common/Header'\r\nexport default {\r\n  data(){\r\n    return{\r\n      user_id:this.$store.state.loginInfo.sessionVal.uSER_ID,\r\n      personalInfo:{},\r\n      imageUrl: '',//localStorage.getItem('imgpath') && JSON.parse(localStorage.getItem('imgpath'))||'',\r\n      uploadFile:'',\r\n      upLoadData:{\r\n        user_id:this.$store.state.loginInfo.sessionVal.uSER_ID,\r\n      }\r\n    }\r\n  },\r\n  components:{\r\n    HeaderTop\r\n  },\r\n  mounted(){\r\n    this.getPersonalInfo()\r\n    // this.handleAvatarSuccess()\n    this.getHeadPortraitImg()\r\n  },\r\n  methods:{\n    getHeadPortraitImg(){\n      this.$http.post('app_module2/getHeadPortrait',{user_id:this.user_id}).then(res=>{\n        console.log(res)\n        if(res.data.code == 200){\n          if(res.data.data.pd){\n             this.imageUrl = res.data.data.pd.imgpath\n          }\n        }\n      })\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      console.log(1222626)\r\n      console.log(res)\r\n      console.log(file)\r\n      this.imageUrl = URL.createObjectURL(file.raw);\r\n      localStorage.setItem('imgpath',JSON.stringify(res.data.pd.imgpath))\r\n\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      const isJPG = file.type === 'image/jpeg';\r\n      const isLt2M = file.size / 1024 / 1024 < 10;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error('上传头像图片只能是 JPG 格式!');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 10MB!');\r\n      }\r\n\r\n      return isJPG && isLt2M;\r\n    },\r\n    goBack(){\r\n      this.$router.go(-1)\r\n    },\r\n    getPersonalInfo(){//获取个人信息\r\n      this.$http.post('app_module2/getPersonalInformation',{USER_ID:this.user_id}).then(res=>{\r\n        if(res.data.code == 200){\r\n          this.personalInfo = res.data.data.pd\r\n        }\r\n      })\r\n    },\r\n    loginOut(){\r\n      Dialog.confirm({\r\n        title: '提示',\r\n        message: '你确定要更换帐号吗?'\r\n      }).then(() => {\r\n        localStorage.removeItem('token')\r\n        localStorage.removeItem('imgpath')\r\n        this.$router.push('/Login')\r\n        // this.bus.emit('isActiveBtn')\r\n      }).catch(() => {\r\n        // on cancel\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.personal{\r\n  // position: fixed;\r\n  z-index: 9999999999;\r\n  background-color: #fff;\r\n  // top:0;\r\n  // left:0;\r\n  // right: 0;\r\n  // bottom:0;\r\n  .uploadImg{\r\n    padding: 20px 0;\r\n    text-align: center;\r\n  }\r\n  .personalInfo{\r\n    padding-left: 20px;\r\n    font-size: 16px;\r\n    color: #666;\r\n    .info{\r\n      color: #333;\r\n      span{\r\n        color: #666;\r\n      }\r\n    }\r\n    h4{\r\n      height: 30px;\r\n      line-height: 30px;\r\n      font-size: normal;\r\n    }\r\n    p{\r\n      height: 30px;\r\n      line-height: 30px;\r\n    }\r\n    .modifyPwd{\r\n      display: flex;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      padding-right: 10px;\r\n      justify-content: space-between;\r\n      border-bottom:1px solid #ddd;\r\n      p{\r\n        height: 40px;\r\n        line-height: 40px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n\r\n    line-height: 88px;\r\n    width: 86px;\r\n    height: 86px;\r\n    border-radius: 50%;\r\n    border: 1px solid #ccc;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/personal/Personal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"personal\"},[_c('header-top',[_c('div',{attrs:{\"slot\":\"left\"},slot:\"left\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"mid\"},slot:\"mid\"},[_vm._v(\"个人信息\")])]),_vm._v(\" \"),_c('div',{staticClass:\"uploadImg\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://119.23.209.162/app_module2/addHeadPortrait\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"limit\":1,\"data\":_vm.upLoadData,\"accept\":\"image/jpg,image/jpeg,image/png,image/PNG\",\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",staticStyle:{\"width\":\"86px\",\"height\":\"86px\",\"border-radius\":\"50%\"},attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"personalInfo\"},[_c('div',{staticClass:\"info\"},[_c('h4',[_vm._v(\"姓名：\"),_c('span',[_vm._v(_vm._s(_vm.personalInfo.NAME))])]),_vm._v(\" \"),_c('p',[_vm._v(\"所属公司：\"),_c('span',[_vm._v(_vm._s(_vm.personalInfo.company_name))])]),_vm._v(\" \"),_c('p',[_vm._v(\"职位：\"),_c('span',[_vm._v(_vm._s(_vm.personalInfo.post))])]),_vm._v(\" \"),_c('p',[_vm._v(\"电话：\"),_c('span',[_vm._v(_vm._s(_vm.personalInfo.PHONE))])]),_vm._v(\" \"),_c('p',[_vm._v(\"Email：\"),_c('span',[_vm._v(_vm._s(_vm.personalInfo.EMAIL))])]),_vm._v(\" \"),_c('p',[_vm._v(\"备注：\"),_c('span',[_vm._v(_vm._s(_vm.personalInfo.BZ))])])]),_vm._v(\" \"),_c('div',{staticClass:\"modifyPwd\",staticStyle:{\"margin-top\":\"30px\"},on:{\"click\":function($event){return _vm.$router.push('/personal/email')}}},[_c('p',[_vm._v(\"邮箱配置\")]),_vm._v(\" \"),_c('span',{staticClass:\"iconfont icon-jiantou\"})]),_vm._v(\" \"),_c('div',{staticClass:\"modifyPwd\",on:{\"click\":function($event){return _vm.$router.push('/personal/modifyPwd')}}},[_c('p',[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('span',{staticClass:\"iconfont icon-jiantou\"})]),_vm._v(\" \"),_c('div',{staticClass:\"modifyPwd\",on:{\"click\":_vm.loginOut}},[_c('p',[_vm._v(\"更换帐号\")]),_vm._v(\" \"),_c('span',{staticClass:\"iconfont icon-jiantou\"})]),_vm._v(\" \"),_vm._m(0)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modifyPwd\"},[_c('p',[_vm._v(\"软件版本\")]),_vm._v(\" \"),_c('span',[_vm._v(\"V2.1.1\")]),_vm._v(\" \"),_c('span')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-506e80b0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/personal/Personal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-506e80b0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Personal.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Personal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Personal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-506e80b0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Personal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-506e80b0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/personal/Personal.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}