webpackJsonp([5],{ee6v:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("IHPB"),s=i.n(a),n=i("ygOz"),o=i("Mcw2"),r={data:function(){return{title:"需求信息",nowPage:0,demandInformationList:[],requireType:"",minArea:"",maxArea:"",minMoney:"",maxMoney:"",position:"",company:"",contact:"",phoneNum:"",jurisdictionAndArea:[{text:"请选择",value:0}],industry:0,purposeList:[{text:"请选择",value:0}],purpose:0,isShowMessage:!1,type:1}},components:{HeaderTop:n.a,Scroll:o.a},methods:{changeTab:function(t){this.type=t},submitRequire:function(){this.$http.post("demandRegistration/save",{demandContent:this.requireType,minArea:this.minArea,maxArea:this.maxArea,minPrice:this.minMoney,maxPrice:this.maxMoney,tenantUnitName:this.company,contacts:this.contact,contactNumber:this.phoneNum,rentSeekingAddress:this.position,industrialTypes:this.industry}).then(function(t){console.log(t),t.data.code})},onClick:function(t,e){this.title=e},assetsLocation:function(){this.$router.push({path:"/assetLocation"})},requireRegister:function(t){this.$router.push({path:"/requireRegister",query:{id:t}})},getDemandInformationList:function(){var t=this;this.nowPage=this.nowPage+1,this.$http.post("demandRegistration/getDemandInformationListPage",{nowPage:this.nowPage}).then(function(e){var i;200==e.data.code&&((i=t.demandInformationList).push.apply(i,s()(e.data.data.data)),t.pagesCount=e.data.data.pageUtil.pageCount,t.$refs.scroll.finishPullUp(),console.log(t.demandInformationList))})},getJurisdictionAndArea:function(){var t=this;this.$http.post("demandRegistration/getJurisdictionAndArea").then(function(e){if(200==e.data.code){for(var i=0;i<e.data.data.industrialTypes.length;i++)t.jurisdictionAndArea.push(e.data.data.industrialTypes[i]);for(var a=0;a<e.data.data.assets.length;a++)t.purposeList.push(e.data.data.assets[a])}})},loadMore:function(){console.log(this.nowPage),console.log(this.pagesCount),this.nowPage>=this.pagesCount?this.isShowMessage=!0:this.getDemandInformationList()}},mounted:function(){this.getDemandInformationList(),this.getJurisdictionAndArea()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"require-info"},[a("header-top",[a("div",{attrs:{slot:"left"},slot:"left"},[a("img",{attrs:{src:i("0YUB")},on:{click:function(e){return t.$router.go(-1)}}})]),t._v(" "),a("div",{attrs:{slot:"mid"},slot:"mid"},[t._v(t._s(t.title))])]),t._v(" "),a("div",[a("ul",[a("li",{class:{isActive:1==t.type},on:{click:function(e){return t.changeTab(1)}}},[t._v("需求信息")]),t._v(" "),a("li",{class:{isActive:2==t.type},on:{click:function(e){return t.changeTab(2)}}},[t._v("需求登记")])]),t._v(" "),1==t.type?a("div",[a("scroll",{ref:"scroll",staticClass:"scroll-content",attrs:{"probe-type":3,"pull-up-load":!0},on:{pullingup:t.loadMore}},[t._l(t.demandInformationList,function(e){return a("div",{key:e.id,staticClass:"require-item",on:{click:function(i){return t.requireRegister(e.id)}}},[a("div",{staticClass:"item item-info"},[a("div",{staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.demandContent))]),t._v(" "),a("div",{staticClass:"mid"}),t._v(" "),a("div",{staticClass:"right"},[a("span",{staticClass:"iconfont icon-jiantou"})])]),t._v(" "),a("div",{staticClass:"item item-info"},[a("div",{staticClass:"left"},[t._v("需求类型")]),t._v(" "),a("div",{staticClass:"mid"},[t._v(t._s(e.landUseType))])]),t._v(" "),a("div",{staticClass:"item item-info"},[a("div",{staticClass:"left"},[t._v("面积")]),t._v(" "),a("div",{staticClass:"mid"},[t._v(t._s(e.maxArea)+"㎡")])]),t._v(" "),a("div",{staticClass:"item item-info"},[a("div",{staticClass:"left"},[t._v("联系人")]),t._v(" "),a("div",{staticClass:"mid"},[t._v(t._s(e.contacts))])]),t._v(" "),a("div",{staticClass:"item item-info"},[a("div",{staticClass:"left"},[t._v("联系电话")]),t._v(" "),a("div",{staticClass:"mid"},[t._v(t._s(e.contactNumber))]),t._v(" "),a("div",{staticClass:"right",staticStyle:{"font-size":"0.32rem"}},[t._v(t._s(t._f("dateFormat")(e.releaseTime)))])]),t._v(" "),a("div",{staticStyle:{"border-bottom":"5px solid #ddd"}})])}),t._v(" "),t.isShowMessage?a("p",{staticStyle:{"text-align":"center",color:"#666",height:"20px","margin-top":"5px","font-size":"13px"}},[t._v("没有更多数据")]):t._e()],2)],1):t._e(),t._v(" "),2==t.type?a("div",[a("div",{staticClass:"content"},[a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("需求类型")]),t._v(" "),a("div",{staticClass:"mid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requireType,expression:"requireType"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.requireType},on:{input:function(e){e.target.composing||(t.requireType=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("面积")]),t._v(" "),a("div",{staticClass:"midArea"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.minArea,expression:"minArea"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.minArea},on:{input:function(e){e.target.composing||(t.minArea=e.target.value)}}}),t._v(" "),a("span",[t._v("--")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.maxArea,expression:"maxArea"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.maxArea},on:{input:function(e){e.target.composing||(t.maxArea=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("金额")]),t._v(" "),a("div",{staticClass:"midArea"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.minMoney,expression:"minMoney"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.minMoney},on:{input:function(e){e.target.composing||(t.minMoney=e.target.value)}}}),t._v(" "),a("span",[t._v("--")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.maxMoney,expression:"maxMoney"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.maxMoney},on:{input:function(e){e.target.composing||(t.maxMoney=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("位置")]),t._v(" "),a("div",{staticClass:"mid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.position,expression:"position"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.position},on:{input:function(e){e.target.composing||(t.position=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("用途")]),t._v(" "),a("div",{staticStyle:{width:"100px"}},[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:t.purposeList},model:{value:t.purpose,callback:function(e){t.purpose=e},expression:"purpose"}})],1)],1)]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("公司名称")]),t._v(" "),a("div",{staticClass:"mid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.company,expression:"company"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.company},on:{input:function(e){e.target.composing||(t.company=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("所属行业")]),t._v(" "),a("div",{staticStyle:{width:"100px"}},[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:t.jurisdictionAndArea},model:{value:t.industry,callback:function(e){t.industry=e},expression:"industry"}})],1)],1)]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("联系人")]),t._v(" "),a("div",{staticClass:"mid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact,expression:"contact"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.contact},on:{input:function(e){e.target.composing||(t.contact=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[t._v("联系电话")]),t._v(" "),a("div",{staticClass:"mid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNum,expression:"phoneNum"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.phoneNum},on:{input:function(e){e.target.composing||(t.phoneNum=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"attachment"})]),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"0.8rem"}},[a("van-button",{attrs:{type:"info",size:"large"},nativeOn:{click:function(e){return t.submitRequire(e)}}},[t._v("提交")])],1)]):t._e()])],1)},staticRenderFns:[]};var l=i("C7Lr")(r,d,!1,function(t){i("xewv")},"data-v-c3df2198",null);e.default=l.exports},xewv:function(t,e){}});
//# sourceMappingURL=5.a997cdf08aec9f958228.js.map