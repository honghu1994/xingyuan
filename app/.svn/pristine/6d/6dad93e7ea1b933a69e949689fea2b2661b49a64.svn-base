webpackJsonp([4],{MzbG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("ygOz"),i=a("5d7C"),s={data:function(){return{oldVal:"",newVal:"",againVal:"",pwd:this.$store.state.loginInfo.sessionVal.pASSWORD,uName:this.$store.state.loginInfo.sessionVal.uSERNAME,uId:this.$store.state.loginInfo.sessionVal.uSER_ID}},components:{HeaderTop:o.a},methods:{verifyPwd:function(){var t=this;console.log(this.pwd),console.log(this.uName),console.log(this.uId),this.$http.post("app_module2/VerifyPassword",{username:this.uName,password:this.pwd,userId:this.uId,oldpwd:this.oldVal}).then(function(e){"error"==e.data.data.smg&&(i.a.alert({message:"输入原始密码不正确"}),t.oldVal="")})},modifyPwdConfirm:function(){var t=this;""!=this.oldVal?this.newVal==this.againVal?""!=this.newVal?this.$http.post("app_module2/getChangePassword",{USERNAME:this.uName,NEWPASSWORD:this.newVal,USER_ID:this.uId}).then(function(e){console.log(e),200==e.data.code?(i.a.alert({message:"修改成功!!!"}),localStorage.removeItem("token"),t.$store.commit("clearLoginInfoInfo"),t.$router.push("/login")):i.a.alert({message:"修改失败!!!"})}):i.a.alert({message:"新密码不能为空!!!"}):i.a.alert({message:"两次密码输入不一致，请重新输入!!!"}):i.a.alert({message:"旧密码不能为空!!!"})}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modify"},[o("header-top",[o("div",{attrs:{slot:"left"},slot:"left"},[o("img",{attrs:{src:a("0YUB")},on:{click:function(e){return t.$router.go(-1)}}})]),t._v(" "),o("div",{attrs:{slot:"mid"},slot:"mid"},[t._v("修改密码")])]),t._v(" "),o("div",{staticClass:"changePwd"},[o("div",{staticClass:"item"},[o("p",[t._v("旧密码:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.oldVal,expression:"oldVal",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"若包含字母，注意区分大小写"},domProps:{value:t.oldVal},on:{blur:[t.verifyPwd,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.oldVal=e.target.value.trim())}}})]),t._v(" "),o("div",{staticClass:"item"},[o("p",[t._v("新密码:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newVal,expression:"newVal",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"若包含字母，注意区分大小写"},domProps:{value:t.newVal},on:{input:function(e){e.target.composing||(t.newVal=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),o("div",{staticClass:"item"},[o("p",[t._v("再次输入:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.againVal,expression:"againVal",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"若包含字母，注意区分大小写"},domProps:{value:t.againVal},on:{input:function(e){e.target.composing||(t.againVal=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),o("div",{staticStyle:{position:"absolute",left:"0",bottom:"50px",width:"90%","margin-left":"5%"}},[o("van-button",{attrs:{type:"primary",size:"large",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.modifyPwdConfirm}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var n=a("C7Lr")(s,r,!1,function(t){a("P7AH")},"data-v-e1009da0",null);e.default=n.exports},P7AH:function(t,e){}});
//# sourceMappingURL=4.0e6352ee02ca6a85f54d.js.map